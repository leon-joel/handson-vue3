<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>click イベントで CSS を操作する</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.a0e2e108.js" as="script"><link rel="preload" href="/assets/js/2.5edaaaf6.js" as="script"><link rel="preload" href="/assets/js/9.7d93d02c.js" as="script"><link rel="prefetch" href="/assets/js/10.05072dab.js"><link rel="prefetch" href="/assets/js/11.7f898679.js"><link rel="prefetch" href="/assets/js/12.49bc12f9.js"><link rel="prefetch" href="/assets/js/13.5175cfef.js"><link rel="prefetch" href="/assets/js/14.61030827.js"><link rel="prefetch" href="/assets/js/15.123ed9f8.js"><link rel="prefetch" href="/assets/js/3.251ffa08.js"><link rel="prefetch" href="/assets/js/4.bc69728f.js"><link rel="prefetch" href="/assets/js/5.56e90f12.js"><link rel="prefetch" href="/assets/js/6.e1df2a1a.js"><link rel="prefetch" href="/assets/js/7.18d86af1.js"><link rel="prefetch" href="/assets/js/8.fdcac201.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="click-イベントで-css-を操作する"><a href="#click-イベントで-css-を操作する" class="header-anchor">#</a> click イベントで CSS を操作する</h1> <h2 id="クリックで商品を選択する実装をする"><a href="#クリックで商品を選択する実装をする" class="header-anchor">#</a> クリックで商品を選択する実装をする</h2> <p>今度は、購入する商品をクリックで選択できるようにしてみましょう。どの商品を選択しているのかがわかるよう、選択中の商品は背景の色を変化させてみます。</p> <h3 id="実装の考え方"><a href="#実装の考え方" class="header-anchor">#</a> 実装の考え方</h3> <p>クリックすることで商品が選択され、背景の色が変わるということは、クリックした時にその商品の状態が変化して CSS が変わるということです。</p> <p>複数のことが同時に起こり複雑に感じるかもしれませんが、どのように実装していけば良いか 1 つずつ分解して考えてみると、以下のようになります。</p> <ol><li>選択状態を表す style を用意する</li> <li>クリックすると商品が&quot;選択状態&quot;になるようにする</li> <li>&quot;選択状態&quot;の時にだけ、1 の style を適用する</li></ol> <p>1 つ 1 つの処理は難しくありません。順番に実装してみましょう。</p> <h3 id="前回までのコードの確認"><a href="#前回までのコードの確認" class="header-anchor">#</a> 前回までのコードの確認</h3> <p>現在のコードは以下のようになっています。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/images/logo.svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Vue.js ハンズオン<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in items<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!item.soldOut<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>thumbnail<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.image<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ item.description }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ pricePrefix(item.price) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      items<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'アボカドディップバケット'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span>
            <span class="token string">'刻んだ野菜をアボカドと混ぜてディップに。こんがり焼いたバゲットとお召し上がりください。'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">480</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item1.jpg'</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'あの日夢見たホットケーキ'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span>
            <span class="token string">'子供のころに食べたかった、あのホットケーキを再現しました。素朴でどこか懐かしい味をどうぞ。'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">1180</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item2.jpg'</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'HOP WTR'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span>
            <span class="token string">'ロサンゼルス生まれのスパークリングウォーター。ノンカロリー、ノンアルコールの新感覚飲料です。'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">320</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item3.jpg'</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'チーズフレンチフライ'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span>
            <span class="token string">'イタリア産チーズをたっぷりかけたアツアツのフレンチフライ。みんな大好きな一品です。'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">670</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item4.jpg'</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'商品５'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span> <span class="token string">'商品５の説明です'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item4.jpg'</span><span class="token punctuation">,</span>
          selected<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 価格を3桁ごとのカンマ付きで返す
     * @param {number} price 価格
     */</span>
    <span class="token function">pricePrefix</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token comment">/* 省略 */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_1-選択状態を表す-style-を用意する"><a href="#_1-選択状態を表す-style-を用意する" class="header-anchor">#</a> 1.選択状態を表す style を用意する</h2> <p>まず、選択中の商品に適用する style を用意しましょう。<code>&lt;style&gt;</code> タグに以下の <code>class</code> を追加します。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.selected-item</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #e3f2fd<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>selected-item</code> という <code>class</code> を追加しました。選択中の商品は背景の色を変化させたいため、この <code>class</code> には <code>background-color</code> プロパティを定義しています。</p> <h2 id="_2-クリックすると商品が-選択状態-になるようにする"><a href="#_2-クリックすると商品が-選択状態-になるようにする" class="header-anchor">#</a> 2. クリックすると商品が&quot;選択状態&quot;になるようにする</h2> <p>次は、クリックして商品を&quot;選択状態&quot;にする部分の実装です。</p> <h3 id="選択状態-を表すプロパティの追加"><a href="#選択状態-を表すプロパティの追加" class="header-anchor">#</a> &quot;選択状態&quot;を表すプロパティの追加</h3> <p>以前、<code>data</code> の <code>items</code> に、&quot;売り切れかどうか&quot;という情報を表す <code>soldOut</code> というプロパティを追加しました。今回も同様に、&quot;選択状態か&quot;という情報をプロパティとして追加しましょう。</p> <p><code>selected</code> というプロパティを追加し、値を <code>true</code> (選択状態) / <code>false</code> (非選択状態)とすることで、選択されているかどうか判別できるようにします。</p> <p>初期状態は何も選択されていない状態であるため、すべての商品を <code>selected: false</code> にしておきましょう。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      items<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'アボカドディップバケット'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span>
            <span class="token string">'刻んだ野菜をアボカドと混ぜてディップに。こんがり焼いたバゲットとお召し上がりください。'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">480</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item1.jpg'</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          selected<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">//selectedプロパティ追加</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'あの日夢見たホットケーキ'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span>
            <span class="token string">'子供のころに食べたかった、あのホットケーキを再現しました。素朴でどこか懐かしい味をどうぞ。'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">1180</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item2.jpg'</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          selected<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">//selectedプロパティ追加</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'HOP WTR'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span>
            <span class="token string">'ロサンゼルス生まれのスパークリングウォーター。ノンカロリー、ノンアルコールの新感覚飲料です。'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">320</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item3.jpg'</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          selected<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">//selectedプロパティ追加</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'チーズフレンチフライ'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span>
            <span class="token string">'イタリア産チーズをたっぷりかけたアツアツのフレンチフライ。みんな大好きな一品です。'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">670</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item4.jpg'</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          selected<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">//selectedプロパティ追加</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'商品５'</span><span class="token punctuation">,</span>
          description<span class="token operator">:</span> <span class="token string">'商品５の説明です'</span><span class="token punctuation">,</span>
          price<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'/images/item4.jpg'</span><span class="token punctuation">,</span>
          soldOut<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          selected<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">//selectedプロパティ追加</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 省略</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="click-イベントの設定"><a href="#click-イベントの設定" class="header-anchor">#</a> click イベントの設定</h3> <p>商品をクリックした時に <code>selected</code> プロパティの値を <code>true</code> にすれば、「クリックして選択する」という実装が可能になります。</p> <p>商品に対して <code>click</code> イベントのイベントリスナーを実装していきましょう。</p> <p><strong>イベントリスナーについての補足</strong><br>
ボタンがクリックされた、フォームに入力された、スクロールしたなど、Web ページや Web アプリケーション上でのさまざまな動きのことをイベントと言います。イベントが発生した時に実行される処理をイベントリスナーといい、イベントが発生する要素に対して設定することができます。</p> <h3 id="v-on-の使い方"><a href="#v-on-の使い方" class="header-anchor">#</a> v-on の使い方</h3> <p>Vue.js でイベントリスナーを登録するには <code>v-on</code> というディレクティブを使用し、以下のように記述します。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>イベント時の処理<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>***<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上記は <code>&lt;button&gt;</code> 要素をクリックした時に実行される <code>click</code> イベントを設定しています。<code>v-on:click=&quot; &quot;</code> の <code>&quot; &quot;</code> の中に、<code>click</code> イベントが発生した時に実行したい処理を記述できます。</p> <p><code>click</code> のほかにも、スクロールした時に実行される <code>scroll</code> イベントや、フォームが submit された時に実行される <code>submit</code> イベントなども用意されています。</p> <p><code>v-on:click</code> は、<code>@click</code> と省略して記述できます。習熟されたエンジニアは省略記法を使う方が多いようです。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>イベント時の処理<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>***<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><a href="https://v3.ja.vuejs.org/guide/events.html" target="_blank" rel="noopener noreferrer">イベントに関する詳細<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="click-イベントの実装"><a href="#click-イベントの実装" class="header-anchor">#</a> click イベントの実装</h3> <p>では実際に、商品に <code>click</code> イベントを登録していきましょう。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/images/logo.svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Vue.js ハンズオン<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in items<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--  @click=&quot;item.selected = !item.selected&quot;を追加 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
        <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!item.soldOut<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.selected = !item.selected<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>thumbnail<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.image<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ item.description }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ pricePrefix(item.price) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>v-for</code> の中の要素は 1 つ 1 つの商品を表しています。その要素に対し <code>@click</code> を追加しました。</p> <p><code>click</code> イベントで商品の選択をするためには、その商品の <code>selected</code> プロパティを <code>true</code> にすることが必要です。それだけを実現するには <code>@click=&quot;item.selected = true&quot;</code> とすれば良さそうです。 しかしその場合、一度クリックして <code>true</code> にすると、 <code>false</code> に戻すことができない、つまり選択した商品をキャンセルできなくなってしまいます。</p> <p>そこで、<code>click</code> イベントでの処理を、<code>selected</code> の値が <code>false</code> の時は <code>true</code> に、<code>true</code> の時は <code>false</code> にするようにしておけば、選択とキャンセルが可能になります。つまり、現時点での <code>selected</code> の値と反対の値を代入するようにすれば良いということです。これを実装すると、<code>item.selected = !item.selected</code> という処理になります(論理否定 (<code>!</code>)で <code>item.selected</code> の否定の値を使用できます)。</p> <blockquote><p><a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Logical_NOT" target="_blank" rel="noopener noreferrer">論理否定 (!)について<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="_3-選択状態-の時にだけ、1-の-style-を適用する"><a href="#_3-選択状態-の時にだけ、1-の-style-を適用する" class="header-anchor">#</a> 3. &quot;選択状態&quot;の時にだけ、1 の style を適用する</h2> <p>最後に、1 で作成した <code>selected-item</code> という <code>class</code> を、<code>selected</code> の値が <code>true</code> の時にだけ適用すれば完成です。</p> <h3 id="v-bind-の使い方"><a href="#v-bind-の使い方" class="header-anchor">#</a> <code>v-bind</code> の使い方</h3> <p>今回のように、特定の条件の時にだけ <code>class</code> などの属性を適用させたい場合は、<code>v-bind</code> ディレクティブを使用します。<code>v-bind</code> は属性をバインディングするためのディレクティブであり、<code>class</code> や <code>style</code>、<code>src</code> などの属性の操作できます。</p> <p><code>class</code> の操作は、対象の要素に対して <code>v-bind:class=&quot;classの制御処理&quot;</code> のように行います。また、<code>v-bind:class</code> は <code>:class</code> と省略して記述できます。</p> <h3 id="class-の実装"><a href="#class-の実装" class="header-anchor">#</a> <code>:class</code> の実装</h3> <p>では実際に <code>:class</code> を使って実装してみましょう。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/images/logo.svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Vue.js ハンズオン<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in items<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- :class=&quot;{'selected-item': item.selected}&quot;を追加 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
        <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!item.soldOut<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ <span class="token punctuation">'</span>selected-item<span class="token punctuation">'</span>: item.selected }<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.selected = !item.selected<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>thumbnail<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.image<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ item.description }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ pricePrefix(item.price) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>商品要素に対して、<code>:class</code> を追加しました。処理の中身を確認していきましょう。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ 'selected-item': item.selected }&quot;</span>
</code></pre></div><p>上記のように、適用したい <code>class</code> を条件式と一緒に記述することで、その条件式が <code>true</code> の場合のみ該当の <code>class</code> を適用できます。</p> <p><code>:class=&quot;{'selected-item': item.selected}&quot;</code> の中の <code>selected-item</code> が、1 で作成した <code>class</code> です。<code>selected-item</code> は、<code>item.selected</code> が <code>true</code> の場合のみ適用されます。<code>item.selected</code> が <code>true</code> の場合とは、商品が選択されている状態を示しています。</p> <p>これで、商品が選択状態の時に背景の色が変化するようになりました。</p> <h2 id="今回使用したディレクティブ"><a href="#今回使用したディレクティブ" class="header-anchor">#</a> 今回使用したディレクティブ</h2> <p>今回の実装では 2 つのディレクティブを使用しました。</p> <ul><li><code>v-on:click</code>(<code>@click</code>)を使用したイベントリスナーの登録</li> <li><code>v-bind:class</code>(<code>:class</code>)を使用した属性の操作</li></ul> <p>このように、複数のディレクティブや処理を組み合わせて、さまざまな動きを実現できます。</p> <hr> <p><a href="/methods.html">Previous</a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a0e2e108.js" defer></script><script src="/assets/js/2.5edaaaf6.js" defer></script><script src="/assets/js/9.7d93d02c.js" defer></script>
  </body>
</html>
